<jboss-deployment-structure xmlns="urn:jboss:deployment-structure:1.2">
    <deployment>
        <exclude-subsystems>
            <subsystem name="webservices"/>
            <subsystem name="jaxrs"/>
        </exclude-subsystems>
        <exclusions>
            <module name="org.slf4j"/>
            <module name="org.slf4j.impl"/>
            <module name="com.sun.xml.bind"/>
        </exclusions>
    </deployment>
    <sub-deployment name="modiabrukerdialog-web.war">
        <exclusions>
            <module name="org.slf4j"/>
            <module name="org.slf4j.impl"/>
            <module name="javaee.api"/>
        </exclusions>
        <dependencies>
            <module name="sun.jdk"/>
            <system>
                <paths>
                    <path name="com/sun/org/apache/xerces/internal/jaxp/datatype"/>
                    <path name="com/sun/image/codec/jpeg"/>
                </paths>
            </system>

            <module name="org.jboss.security.negotiation"/>

            <module name="javax.activation.api" export="true"/>
            <module name="javax.annotation.api" export="true"/>
            <module name="javax.ejb.api" export="true"/>
            <module name="javax.el.api" export="true"/>
            <module name="javax.enterprise.api" export="true"/>
            <module name="javax.enterprise.deploy.api" export="true"/>
            <module name="javax.inject.api" export="true"/>
            <module name="javax.interceptor.api" export="true"/>
            <module name="javax.jms.api" export="true"/>
            <module name="javax.jws.api" export="true"/>
            <module name="javax.mail.api" export="true"/>
            <module name="javax.management.j2ee.api" export="true"/>
            <module name="javax.persistence.api" export="true"/>
            <module name="javax.resource.api" export="true"/>
            <module name="javax.rmi.api" export="true"/>
            <module name="javax.security.auth.message.api" export="true"/>
            <module name="javax.security.jacc.api" export="true"/>
            <module name="javax.servlet.api" export="true"/>
            <module name="javax.servlet.jsp.api" export="true"/>
            <module name="javax.transaction.api" export="true"/>
            <module name="javax.validation.api" export="true"/>
            <!-- <module name="javax.ws.rs.api" export="true" services="export"/> -->
            <module name="javax.wsdl4j.api" export="true" />
            <module name="javax.xml.bind.api" export="true"/>
            <module name="javax.xml.jaxp-provider" export="true"/>
            <module name="javax.xml.registry.api" export="true"/>
            <module name="javax.xml.rpc.api" export="true"/>
            <module name="javax.xml.soap.api" export="true"/>
            <module name="javax.xml.stream.api" export="true"/>
            <module name="javax.xml.ws.api" export="true"/>
            <!-- This one always goes last. -->
            <module name="javax.api" export="true"/>
        </dependencies>
    </sub-deployment>
</jboss-deployment-structure>